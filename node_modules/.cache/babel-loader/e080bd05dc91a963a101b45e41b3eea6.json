{"ast":null,"code":"import _classCallCheck from\"/Users/joohye/mandal-art/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/joohye/mandal-art/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/joohye/mandal-art/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/joohye/mandal-art/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/joohye/mandal-art/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import*as firebase from\"firebase\";import List from'./List.js';var ListContainer=/*#__PURE__*/function(_Component){_inherits(ListContainer,_Component);function ListContainer(props){var _this;_classCallCheck(this,ListContainer);_this=_possibleConstructorReturn(this,_getPrototypeOf(ListContainer).call(this,props));_this.state={list:[]};return _this;}_createClass(ListContainer,[{key:\"componentWillMount\",value:function componentWillMount(){var _this2=this;var uid=JSON.parse(localStorage.getItem('logInfo')).user.uid;var database=firebase.database();var mandalList=[];// database.ref(`/mandal/${uid}`).on('child_added', (snapshot)=> {\n//     mandalList.push(snapshot.val());\n//\n//     this.setState({\n//         list: mandalList\n//     });\n// });\ndatabase.ref(\"/mandal/\".concat(uid)).once('value').then(function(snapshot){var obj=snapshot.val();var arr=[];for(var key in obj){arr.push(obj[key]);}_this2.setState({list:arr});});}},{key:\"render\",value:function render(){var userInfo=JSON.parse(localStorage.getItem('logInfo'));return React.createElement(\"section\",null,React.createElement(\"div\",{className:\"mandal-section\"},React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"mandal-banner flex justify-between items-center mb-50\"},React.createElement(\"div\",{className:\"font-lg font-white\"},\"\\uB098\\uB9CC\\uC758 \",React.createElement(\"span\",{className:\"yellow\"},\"\\uB9CC\\uB2E4\\uB77C\\uD2B8\"),\"\\uB85C\",React.createElement(\"br\",null),\"\\uC778\\uC0DD\\uC744 \\uC990\\uAC81\\uAC8C!\"),React.createElement(\"div\",{className:\"flex flex-col\"},React.createElement(\"span\",{className:\"font-lg text-center  font-white\"},userInfo.user.displayName),React.createElement(\"span\",{className:\"font-white\"},userInfo.user.email))),React.createElement(\"div\",{className:\"mandal-list flex flex-col\"},this.state.list.length!==0?this.state.list.map(function(data,index){return React.createElement(List,{key:index,data:data,index:index});}):React.createElement(\"div\",{className:\"px-1 text-center\"},React.createElement(\"img\",{src:require('../../../images/nothing.jpeg')}))))));}}]);return ListContainer;}(Component);export default ListContainer;","map":{"version":3,"sources":["/Users/joohye/mandal-art/src/components/mandal/list/ListContainer.js"],"names":["React","Component","firebase","List","ListContainer","props","state","list","uid","JSON","parse","localStorage","getItem","user","database","mandalList","ref","once","then","snapshot","obj","val","arr","key","push","setState","userInfo","displayName","email","length","map","data","index","require"],"mappings":"qiBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAO,GAAKC,CAAAA,QAAZ,KAA0B,UAA1B,CACA,MAAOC,CAAAA,IAAP,KAAiB,WAAjB,C,GAEMC,CAAAA,a,uEAEF,uBAAYC,KAAZ,CAAmB,+CACf,+EAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CACTC,IAAI,CAAE,EADG,CAAb,CAFe,aAKlB,C,yFAEoB,iBACjB,GAAIC,CAAAA,GAAG,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAX,EAA4CC,IAA5C,CAAiDL,GAA3D,CAEA,GAAIM,CAAAA,QAAQ,CAAGZ,QAAQ,CAACY,QAAT,EAAf,CAEA,GAAMC,CAAAA,UAAU,CAAG,EAAnB,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAGAD,QAAQ,CAACE,GAAT,mBAAwBR,GAAxB,GAA+BS,IAA/B,CAAoC,OAApC,EAA6CC,IAA7C,CAAkD,SAACC,QAAD,CAAc,CAC5D,GAAMC,CAAAA,GAAG,CAAGD,QAAQ,CAACE,GAAT,EAAZ,CAEA,GAAMC,CAAAA,GAAG,CAAG,EAAZ,CAEA,IAAK,GAAIC,CAAAA,GAAT,GAAgBH,CAAAA,GAAhB,CAAqB,CACjBE,GAAG,CAACE,IAAJ,CAASJ,GAAG,CAACG,GAAD,CAAZ,EACH,CACD,MAAI,CAACE,QAAL,CAAc,CACVlB,IAAI,CAAEe,GADI,CAAd,EAGH,CAXD,EAYH,C,uCAEQ,CACL,GAAII,CAAAA,QAAQ,CAAGjB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAX,CAAf,CACA,MACI,oCAEI,2BAAK,SAAS,CAAC,gBAAf,EACI,2BAAK,SAAS,CAAC,WAAf,EACI,2BAAK,SAAS,CAAC,uDAAf,EACI,2BAAK,SAAS,CAAC,oBAAf,wBACQ,4BAAM,SAAS,CAAC,QAAhB,6BADR,UAC6C,8BAD7C,0CADJ,CAKI,2BAAK,SAAS,CAAC,eAAf,EACI,4BAAM,SAAS,CAAC,iCAAhB,EAAmDc,QAAQ,CAACb,IAAT,CAAcc,WAAjE,CADJ,CAEI,4BAAM,SAAS,CAAC,YAAhB,EAA8BD,QAAQ,CAACb,IAAT,CAAce,KAA5C,CAFJ,CALJ,CADJ,CAWI,2BAAK,SAAS,CAAC,2BAAf,EAEQ,KAAKtB,KAAL,CAAWC,IAAX,CAAgBsB,MAAhB,GAAyB,CAAzB,CACI,KAAKvB,KAAL,CAAWC,IAAX,CAAgBuB,GAAhB,CAAoB,SAACC,IAAD,CAAOC,KAAP,CAAiB,CACjC,MACI,qBAAC,IAAD,EAAM,GAAG,CAAEA,KAAX,CAAkB,IAAI,CAAED,IAAxB,CAA8B,KAAK,CAAEC,KAArC,EADJ,CAGH,CAJD,CADJ,CAOI,2BAAK,SAAS,CAAC,kBAAf,EACI,2BAAK,GAAG,CAAEC,OAAO,CAAC,8BAAD,CAAjB,EADJ,CATZ,CAXJ,CADJ,CAFJ,CADJ,CAmCH,C,2BA5EuBhC,S,EA+E5B,cAAeG,CAAAA,aAAf","sourcesContent":["import React, {Component} from 'react';\nimport * as firebase from \"firebase\";\nimport List from './List.js';\n\nclass ListContainer extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            list: []\n        }\n    }\n\n    componentWillMount() {\n        let uid = JSON.parse(localStorage.getItem('logInfo')).user.uid;\n\n        let database = firebase.database();\n\n        const mandalList = [];\n\n        // database.ref(`/mandal/${uid}`).on('child_added', (snapshot)=> {\n        //     mandalList.push(snapshot.val());\n        //\n        //     this.setState({\n        //         list: mandalList\n        //     });\n        // });\n\n\n        database.ref(`/mandal/${uid}`).once('value').then((snapshot) => {\n            const obj = snapshot.val();\n\n            const arr = [];\n\n            for (let key in obj) {\n                arr.push(obj[key]);\n            }\n            this.setState({\n                list: arr\n            });\n        });\n    }\n\n    render() {\n        let userInfo = JSON.parse(localStorage.getItem('logInfo'));\n        return (\n            <section>\n\n                <div className=\"mandal-section\">\n                    <div className=\"container\">\n                        <div className=\"mandal-banner flex justify-between items-center mb-50\">\n                            <div className=\"font-lg font-white\">\n                                나만의 <span className=\"yellow\">만다라트</span>로<br/>\n                                인생을 즐겁게!\n                            </div>\n                            <div className=\"flex flex-col\">\n                                <span className=\"font-lg text-center  font-white\">{userInfo.user.displayName}</span>\n                                <span className=\"font-white\">{userInfo.user.email}</span>\n                            </div>\n                        </div>\n                        <div className=\"mandal-list flex flex-col\">\n                            {\n                                this.state.list.length!==0 ?\n                                    this.state.list.map((data, index) => {\n                                        return (\n                                            <List key={index} data={data} index={index}></List>\n                                        );\n                                    })\n                                    :\n                                    <div className=\"px-1 text-center\">\n                                        <img src={require('../../../images/nothing.jpeg')}/>\n                                    </div>\n                            }\n                        </div>\n                    </div>\n                </div>\n\n\n            </section>\n        )\n    }\n}\n\nexport default ListContainer;\n"]},"metadata":{},"sourceType":"module"}
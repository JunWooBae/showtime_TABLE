{"ast":null,"code":"import _slicedToArray from \"/Users/joohye/mandal-art/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/joohye/mandal-art/src/components/mandal/button/Edit.js\";\nimport React, { useState, useEffect } from 'react';\nimport * as firebase from \"firebase\";\n\nconst Edit = (data, page) => {\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        mandalData = _useState2[0],\n        setMandalData = _useState2[1];\n\n  const _useState3 = useState(),\n        _useState4 = _slicedToArray(_useState3, 2),\n        pageData = _useState4[0],\n        setPageData = _useState4[1];\n\n  useEffect(() => {\n    setMandalData(data.data);\n    setPageData(page);\n  });\n\n  const onEdit = e => {\n    e.preventDefault();\n    const uid = JSON.parse(localStorage.getItem('logInfo')).user.uid;\n    const database = firebase.database();\n    let time = new Date();\n    let date = `${time.getFullYear()}년 ${time.getMonth() + 1}월 ${time.getDate()}일 ${time.getHours()}:${time.getMinutes()}:${time.getSeconds()}`;\n    database.ref(`mandal/${uid}`).once('value', snapshot => {\n      let obj = snapshot.val();\n      let keyList = []; //키값 찾기\n\n      for (let key in obj) {\n        if (obj.hasOwnProperty(key)) {\n          keyList.push(key); // console.log(key);\n        }\n      }\n\n      console.log(pageData); // database.ref(`mandal/${uid}/${keyList[pageData]}`).update({\n      //     data: JSON.stringify(mandalData),\n      //     time: date\n      // });\n    });\n  };\n\n  return React.createElement(\"button\", {\n    onClick: onEdit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"\\uC218\\uC815\");\n};\n\nexport default Edit;","map":{"version":3,"sources":["/Users/joohye/mandal-art/src/components/mandal/button/Edit.js"],"names":["React","useState","useEffect","firebase","Edit","data","page","mandalData","setMandalData","pageData","setPageData","onEdit","e","preventDefault","uid","JSON","parse","localStorage","getItem","user","database","time","Date","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","ref","once","snapshot","obj","val","keyList","key","hasOwnProperty","push","console","log"],"mappings":";;AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,QAAuC,OAAvC;AACA,OAAO,KAAKC,QAAZ,MAA0B,UAA1B;;AAEA,MAAMC,IAAI,GAAC,CAACC,IAAD,EAAOC,IAAP,KAAc;AAAA,oBAEYL,QAAQ,EAFpB;AAAA;AAAA,QAEdM,UAFc;AAAA,QAEHC,aAFG;;AAAA,qBAGQP,QAAQ,EAHhB;AAAA;AAAA,QAGdQ,QAHc;AAAA,QAGLC,WAHK;;AAKrBR,EAAAA,SAAS,CAAC,MAAI;AACVM,IAAAA,aAAa,CAACH,IAAI,CAACA,IAAN,CAAb;AACAK,IAAAA,WAAW,CAACJ,IAAD,CAAX;AACH,GAHQ,CAAT;;AAKA,QAAMK,MAAM,GAAEC,CAAD,IAAK;AACdA,IAAAA,CAAC,CAACC,cAAF;AAEA,UAAMC,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAX,EAA4CC,IAA5C,CAAiDL,GAA7D;AACA,UAAMM,QAAQ,GAAGjB,QAAQ,CAACiB,QAAT,EAAjB;AAEA,QAAIC,IAAI,GAAG,IAAIC,IAAJ,EAAX;AACA,QAAIC,IAAI,GAAI,GAAEF,IAAI,CAACG,WAAL,EAAmB,KAAIH,IAAI,CAACI,QAAL,KAAkB,CAAE,KAAIJ,IAAI,CAACK,OAAL,EAAe,KAAIL,IAAI,CAACM,QAAL,EAAgB,IAAGN,IAAI,CAACO,UAAL,EAAkB,IAAGP,IAAI,CAACQ,UAAL,EAAkB,EAA1I;AAEAT,IAAAA,QAAQ,CAACU,GAAT,CAAc,UAAShB,GAAI,EAA3B,EAA8BiB,IAA9B,CAAmC,OAAnC,EAA6CC,QAAD,IAAc;AACtD,UAAIC,GAAG,GAAGD,QAAQ,CAACE,GAAT,EAAV;AACA,UAAIC,OAAO,GAAG,EAAd,CAFsD,CAItD;;AACA,WAAK,IAAIC,GAAT,IAAgBH,GAAhB,EAAqB;AACjB,YAAIA,GAAG,CAACI,cAAJ,CAAmBD,GAAnB,CAAJ,EAA6B;AACzBD,UAAAA,OAAO,CAACG,IAAR,CAAaF,GAAb,EADyB,CAEzB;AACH;AACJ;;AACDG,MAAAA,OAAO,CAACC,GAAR,CAAY/B,QAAZ,EAXsD,CAYtD;AACA;AACA;AACA;AACH,KAhBD;AAiBH,GA1BD;;AA4BA,SACI;AAAQ,IAAA,OAAO,EAAEE,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ;AAIH,CA1CD;;AA4CA,eAAeP,IAAf","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport * as firebase from \"firebase\";\n\nconst Edit=(data, page)=>{\n\n    const [mandalData,setMandalData]=useState();\n    const [pageData,setPageData]=useState();\n\n    useEffect(()=>{\n        setMandalData(data.data);\n        setPageData(page);\n    });\n\n    const onEdit=(e)=>{\n        e.preventDefault();\n\n        const uid = JSON.parse(localStorage.getItem('logInfo')).user.uid;\n        const database = firebase.database();\n\n        let time = new Date();\n        let date = `${time.getFullYear()}년 ${time.getMonth() + 1}월 ${time.getDate()}일 ${time.getHours()}:${time.getMinutes()}:${time.getSeconds()}`;\n\n        database.ref(`mandal/${uid}`).once('value', (snapshot) => {\n            let obj = snapshot.val();\n            let keyList = [];\n\n            //키값 찾기\n            for (let key in obj) {\n                if (obj.hasOwnProperty(key)) {\n                    keyList.push(key);\n                    // console.log(key);\n                }\n            }\n            console.log(pageData);\n            // database.ref(`mandal/${uid}/${keyList[pageData]}`).update({\n            //     data: JSON.stringify(mandalData),\n            //     time: date\n            // });\n        });\n    }\n\n    return(\n        <button onClick={onEdit}>수정</button>\n    );\n\n}\n\nexport default Edit;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from\"/Users/joohye/mandal-art/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import*as firebase from\"firebase\";var Save=function Save(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];useEffect(function(){setTitle(props.title);setData(JSON.stringify(props.data));});var onSave=function onSave(e){e.preventDefault();var uid=JSON.parse(localStorage.getItem('logInfo')).user.uid;var database=firebase.database();var time=new Date();var date=\"\".concat(time.getFullYear(),\"\\uB144 \").concat(time.getMonth()+1,\"\\uC6D4 \").concat(time.getDate(),\"\\uC77C \").concat(time.getHours(),\":\").concat(time.getMinutes(),\":\").concat(time.getSeconds());// console.log(mandalData);\ndatabase.ref(\"mandal/\".concat(uid,\"/\")).push({title:title,data:data,time:date});setTimeout(function(){window.history.go(0);},3000);};return React.createElement(\"button\",{className:\"btn save\",onClick:onSave},\"\\uC800\\uC7A5\");};export default Save;","map":{"version":3,"sources":["/Users/joohye/mandal-art/src/components/mandal/button/Save.js"],"names":["React","useState","useEffect","firebase","Save","props","data","setData","title","setTitle","JSON","stringify","onSave","e","preventDefault","uid","parse","localStorage","getItem","user","database","time","Date","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","ref","push","setTimeout","window","history","go"],"mappings":"2GAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAwBC,SAAxB,KAAwC,OAAxC,CACA,MAAO,GAAKC,CAAAA,QAAZ,KAA0B,UAA1B,CAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAACC,KAAD,CAAW,eAECJ,QAAQ,EAFT,wCAEbK,IAFa,eAERC,OAFQ,8BAGGN,QAAQ,EAHX,yCAGbO,KAHa,eAGPC,QAHO,eAMpBP,SAAS,CAAC,UAAI,CACVO,QAAQ,CAACJ,KAAK,CAACG,KAAP,CAAR,CACAD,OAAO,CAACG,IAAI,CAACC,SAAL,CAAeN,KAAK,CAACC,IAArB,CAAD,CAAP,CACH,CAHQ,CAAT,CAKA,GAAMM,CAAAA,MAAM,CAAC,QAAPA,CAAAA,MAAO,CAACC,CAAD,CAAK,CACdA,CAAC,CAACC,cAAF,GAEA,GAAMC,CAAAA,GAAG,CAACL,IAAI,CAACM,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAX,EAA4CC,IAA5C,CAAiDJ,GAA3D,CACA,GAAMK,CAAAA,QAAQ,CAAGjB,QAAQ,CAACiB,QAAT,EAAjB,CAEA,GAAIC,CAAAA,IAAI,CAAC,GAAIC,CAAAA,IAAJ,EAAT,CACA,GAAIC,CAAAA,IAAI,WAAIF,IAAI,CAACG,WAAL,EAAJ,mBAA2BH,IAAI,CAACI,QAAL,GAAgB,CAA3C,mBAAiDJ,IAAI,CAACK,OAAL,EAAjD,mBAAoEL,IAAI,CAACM,QAAL,EAApE,aAAuFN,IAAI,CAACO,UAAL,EAAvF,aAA4GP,IAAI,CAACQ,UAAL,EAA5G,CAAR,CAEA;AAEAT,QAAQ,CAACU,GAAT,kBAAuBf,GAAvB,OAA+BgB,IAA/B,CAAoC,CAChCvB,KAAK,CAACA,KAD0B,CAEhCF,IAAI,CAAEA,IAF0B,CAGhCe,IAAI,CAAEE,IAH0B,CAApC,EAMAS,UAAU,CAAC,UAAI,CACXC,MAAM,CAACC,OAAP,CAAeC,EAAf,CAAkB,CAAlB,EACH,CAFS,CAER,IAFQ,CAAV,CAGH,CApBD,CAsBA,MACI,+BAAQ,SAAS,CAAC,UAAlB,CAA6B,OAAO,CAAEvB,MAAtC,iBADJ,CAIH,CArCD,CAuCA,cAAeR,CAAAA,IAAf","sourcesContent":["import React, {useState,useEffect} from 'react';\nimport * as firebase from \"firebase\";\n\nconst Save = (props) => {\n\n    const [data,setData]=useState();\n    const [title,setTitle]=useState();\n\n\n    useEffect(()=>{\n        setTitle(props.title);\n        setData(JSON.stringify(props.data));\n    });\n\n    const onSave=(e)=>{\n        e.preventDefault();\n\n        const uid=JSON.parse(localStorage.getItem('logInfo')).user.uid;\n        const database = firebase.database();\n\n        let time=new Date();\n        let date=`${time.getFullYear()}년 ${time.getMonth()+1}월 ${time.getDate()}일 ${time.getHours()}:${time.getMinutes()}:${time.getSeconds()}`;\n\n        // console.log(mandalData);\n\n        database.ref(`mandal/${uid}/`).push({\n            title:title,\n            data: data,\n            time: date\n        });\n\n        setTimeout(()=>{\n            window.history.go(0);\n        },3000);\n    }\n\n    return (\n        <button className=\"btn save\" onClick={onSave}>저장</button>\n    );\n\n}\n\nexport default Save;"]},"metadata":{},"sourceType":"module"}